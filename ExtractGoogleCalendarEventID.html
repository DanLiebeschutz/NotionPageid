<html>
  
  <head>
<style>
html, body {
    height: 100%;
}

html {
    display: table;
    margin: auto;
}

body {
    display: table-cell;
    vertical-align: middle;
}
</style>
</head>

<body align="center">
  <div id=""><h3>Google calendar event id extractor</h3></div>
  <div id=""><h4>Paste the google calendar event url from your browser here:</h4></div>
  <div>
<input type="text" id="input" name="input" style="width: 250px;">

<button type="button" id="event_id">Extract Google calendar event id</button> 
  </div>
<div id="result"></div>
  
<script type="text/javascript">
  
  

document.getElementById('event_id').onclick = decodeGoogleEventUrl();

function decodeGoogleEventUrl(){
  var encodedString = document.getElementById("input").value;
  console.log('encodedString :' + encodedString);
  //let l = input.length-53;
  let calBase64 = input.slice(53,136);
  console.log('calBase64 :'+ calBase64);
  let calDecoded =  decode64(calBase64);
  console.log('calDecoded :' + calDecoded);
  let eventId = calDecoded.slice(0,26);
  console.log('eventID :' + calDecoded);
  document.getElementById("result").innerHTML = eventId;
  }
  
  
  function decode64(v){
  // Decode the String
  console.log('v:'+ decodedString);
  var decodedString = atob(v);
  console.log(decodedString); // Output
  return (decodedString);
  }
  
</script>
</html>
